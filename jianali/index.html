<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Trabajos Remotos en Canarias | Gana 150-300â‚¬ Diarios desde Casa</title>
  <meta name="description" content="Oportunidades exclusivas para residentes en Islas Canarias. Trabajos online con pagos diarios. Â¡Solicita tu plaza ahora y comienza hoy mismo!" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet"> 
  <link rel="stylesheet" href="style.css">
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=AW-17524155246"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'AW-17524155246');
  </script>
</head>
<body>
  <!-- Top Nav -->
  <header class="nav">
    <div class="container nav-inner">
      <a class="brand" href="#top" aria-label="PÃ¡gina principal">Trabajo</a>
      <nav class="nav-links">
        <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="MenÃº">â˜°</button>
        <button class="btn btn-primary" id="openFormBtn">Solicitar Ahora</button>
      </nav>
      
      <!-- Mobile Menu -->
      <div class="mobile-menu" id="mobileMenu">
        <a href="#roles">Posiciones</a>
        <a href="#benefits">Beneficios</a>
        <a href="#faq">FAQ</a>
      </div>
    </div>
  </header>

  <!-- Hero Section -->
  <section id="top" class="hero">
    <div class="container hero-grid">
      <div class="hero-copy fade-in">
        <span class="urgency-badge">â° Â¡ÃšLTIMAS 12 VACANTES DISPONIBLES!</span>
        
        <h1>ğŸŒ´ Canarios, Gana 150-300â‚¬ Diarios SIN Salir de Tu Casa</h1>
        <p class="subtitle">
          ğŸ’¼ Trabajos 100% online verificados para residentes de Tenerife, Gran Canaria, Lanzarote... 
          Â¡Horarios flexibles compatibles con tu vida en las islas!
        </p>
		
		<div class="cta-main">
          <button class="btn btn-primary btn-lg pulse" id="heroCtaBtn">
            ğŸš€ Quiero Mi Plaza - Comenzar en 24h
          </button>
          <p class="muted small" style="margin-top: 12px;">
            âš¡ Solo 1 minutos para registrar tu interÃ©s
          </p>
        </div>
		
        <div class="local-trust-badges fade-in">
          <div class="trust-badge">
            <span>ğŸµ</span>
            <span>Escucha MÃºsica & Gana</span>
          </div>
          <div class="trust-badge">
            <span>ğŸ¬</span>
            <span>Ve Videos & Cobra</span>
          </div>
          <div class="trust-badge">
            <span>âœï¸</span>
            <span>Escribe GuÃ­as TurÃ­sticas</span>
          </div>
          <div class="trust-badge">
            <span>ğŸŒ</span>
            <span>TraducciÃ³n Online</span>
          </div>
        </div>
		
		<!-- å°å‹å€’è®¡æ—¶å™¨ -->
        <div class="compact-countdown" id="countdownContainer">
          <span>â° OFERTA TERMINA EN:</span>
          <span class="countdown-display" id="countdownTimer">30:00</span>
        </div>

        <!-- Live counters -->
        <div class="live-counter">
          <div class="counter-item">
            <span class="count" id="activeUsers">18</span>
            <span>personas viendo esta pÃ¡gina</span>
          </div>
          <div class="counter-item">
            <span class="count" id="remainingSpots">3</span>
            <span>vacantes restantes</span>
          </div>
        </div>

        <!-- Real-time Registrations - å•æ¡æ»šåŠ¨æ ·å¼ -->
        <div class="real-time-registrations">
          <div class="registrations-scroll-container" id="registrationsScrollContainer">
            <!-- åŠ¨æ€å†…å®¹å°†åœ¨è¿™é‡ŒåŠ è½½ -->
          </div>
        </div>

        <!-- Hero stats -->
        <div class="hero-stats">
          <div class="stat-item">
            <span class="stat-number">50.000+</span>
            <span class="stat-label">Canarios empleados</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">95%</span>
            <span class="stat-label">SatisfacciÃ³n</span>
          </div>
          <div class="stat-item">
            <span class="stat-number">24h</span>
            <span class="stat-label">Primer pago</span>
          </div>
        </div>

        <ul class="hero-points">
          <li>â° Horarios flexibles - Trabaja segÃºn tu propio horario</li>
          <li>ğŸ’³ Pagos diarios - Cobra inmediatamente al completar tareas</li>
          <li>ğŸ“± Solo necesitas telÃ©fono - No se requiere computadora</li>
          <li>ğŸ›¡ï¸ 100% seguro - Nunca hay tarifas de solicitud</li>
          <li>ğŸ‡ªğŸ‡¸ Soporte en espaÃ±ol - AtenciÃ³n por WhatsApp 24/7</li>
          <li>ğŸŒ´ Ideal para canarios - Trabajos adaptados al mercado local</li>
        </ul>

        <div class="cta-main">
          <button class="btn btn-primary btn-lg pulse" id="heroCtaBtn">
            ğŸš€ Quiero Mi Plaza - Comenzar en 24h
          </button>
          <p class="muted small" style="margin-top: 12px;">
            âš¡ Solo 1 minutos para registrar tu interÃ©s
          </p>
        </div>
      </div>
    </div>

    <div class="hero-bg" role="img" aria-label="Playa de las Islas Canarias"></div>
  </section>

  <!-- Trust Certification Section -->
  <section class="section">
    <div class="container">
      <div class="trust-certification fade-in">
        <div class="section-header">
          <h2>ğŸ”’ Confianza y Seguridad para Canarias</h2>
          <p class="muted">GarantÃ­as oficiales para tu tranquilidad</p>
        </div>
        <div class="trust-grid">
          <div class="trust-item">
            <div class="trust-icon">ğŸ¢</div>
            <h4>Registro Oficial en Canarias</h4>
            <p>Empresa registrada en el Gobierno de Canarias con nÃºmero RB-284759</p>
          </div>
          <div class="trust-item">
            <div class="trust-icon">ğŸ›¡ï¸</div>
            <h4>ProtecciÃ³n de Datos</h4>
            <p>Cumplimiento LOPD y RGPD para residentes canarios</p>
          </div>
          <div class="trust-item">
            <div class="trust-icon">ğŸ’³</div>
            <h4>Pagos Garantizados</h4>
            <p>Sistema de pagos seguro con verificaciÃ³n bancaria espaÃ±ola</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Scroll-triggered Trust Notification -->
  <div class="scroll-trust-section" id="scrollTrustSection">
    <button class="scroll-trust-close" id="scrollTrustClose">Ã—</button>
    <div class="scroll-trust-content">
      <div class="trust-icon">ğŸŒŸ</div>
      <h4>Â¡MÃ¡s de 1,200 Canarios ConfÃ­an en Nosotros!</h4>
      <p>Ãšnete a la comunidad de trabajadores remotos de las Islas Canarias</p>
    </div>
  </div>

  <!-- Sticky Bottom CTA -->
  <div class="sticky-bottom-cta" id="stickyCta">
    <div class="sticky-content">
      <span>ğŸš€ <strong>Gana 150-300â‚¬/dÃ­a</strong> - 12 Plazas</span>
      <button class="btn btn-primary pulse" onclick="openPhoneModal()">
        Solicitar Plaza Ahora
      </button>
    </div>
  </div>

  <!-- Phone Modal -->
  <div class="modal" id="phoneModal">
    <div class="modal-content" aria-labelledby="phoneModalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="phoneModalCloseBtn" aria-label="Cerrar">&times;</button>
      
      <div class="modal-header">
        <div class="modal-icon">ğŸ¯</div>
        <h3 class="modal-title" id="phoneModalTitle">Â¡Plaza Reservada Exitosamente!</h3>
        <p class="modal-subtitle">Hemos reservado una de las Ãºltimas plazas disponibles. Completa tu registro para comenzar a ganar hoy mismo.</p>
      </div>

      <!-- Progress Indicator -->
      <div class="progress-indicator">
        <div class="progress-header">
          <span style="color: var(--muted);">Progreso de tu solicitud</span>
          <span style="font-weight: 600; color: var(--primary);">Paso 1 de 2</span>
        </div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressBar"></div>
        </div>
        <div class="progress-labels">
          <span>ğŸ“ InformaciÃ³n</span>
          <span>ğŸ’¬ WhatsApp</span>
        </div>
      </div>

      <div class="phone-form">
        <div class="phone-input-group">
          <div class="country-code">
            <img src="https://flagcdn.com/w20/es.png" alt="Bandera de EspaÃ±a" width="20" height="14" style="display:inline-block;vertical-align:middle;margin-right:8px;border-radius:2px;">
            +34
          </div>
          <input type="tel" id="phoneInput" class="phone-input" placeholder="6xx xxx xxx" inputmode="tel" maxlength="9" />
        </div>
        <div class="error-text" id="phoneError">Por favor ingresa tu nÃºmero de WhatsApp</div>
        
        <button class="btn btn-primary btn-block pulse" id="startEarningBtn">
          ğŸ’° Comenzar a Ganar Ahora
        </button>
      </div>
      
      <!-- Direct WhatsApp Option -->
      <div class="direct-whatsapp-option">
        <p style="margin: 0 0 12px 0; font-size: 0.9rem;">Â¿Prefieres contactar directamente?</p>
        <button class="btn btn-whatsapp" id="directWhatsAppBtn">
          ğŸ’¬ Contactar por WhatsApp sin formulario
        </button>
      </div>
      
      <div class="security-badge">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M12 22C12 22 20 18 20 12V5L12 2L4 5V12C4 18 12 22 12 22Z" stroke="#20b2aa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          <path d="M9 12L11 14L15 10" stroke="#20b2aa" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
        <span>Tus datos estÃ¡n 100% protegidos</span>
      </div>
    </div>
  </div>

  <!-- Success Modal -->
  <div class="modal" id="successModal">
    <div class="modal-content" aria-labelledby="successModalTitle" role="dialog" aria-modal="true">
      <button class="modal-close" id="successModalCloseBtn" aria-label="Cerrar">&times;</button>
      
      <div class="modal-header">
        <div class="modal-icon">ğŸ‰</div>
        <h3 class="modal-title" id="successModalTitle">Â¡Registro Completado!</h3>
        <p class="modal-subtitle">EstÃ¡s a un paso de comenzar a ganar. SerÃ¡s redirigido a WhatsApp para finalizar tu registro.</p>
      </div>

      <button class="btn btn-whatsapp btn-block pulse" id="goToWhatsAppBtn">
        <span class="loading-spinner" id="whatsappSpinner"></span>
        ğŸ’¬ Abrir WhatsApp Ahora
      </button>
      
      <div class="security-badge">
        <span>âœ… Tu plaza estÃ¡ confirmada</span>
      </div>
    </div>
  </div>

  <!-- Hiring (Part-time & Full-time) -->
  <section id="roles" class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>ğŸ’° Elige Tu Estilo de Trabajo Flexible</h2>
        <p class="muted">Los ingresos mostrados son rangos tÃ­picos reportados por trabajadores. <strong>Tus resultados pueden variar segÃºn tu desempeÃ±o personal.</strong></p>
      </div>

      <div class="cards two-col">
        <article class="card fade-in">
          <div class="card-media remote-work-1"></div>
          <div class="card-body">
            <div class="earnings-badge">50â‚¬â€“300â‚¬ / dÃ­a</div>
            <h3>Trabajo a Tiempo Parcial</h3>
            <ul class="list">
              <li><strong>â° Horario flexible:</strong> 1â€“3 horas al dÃ­a</li>
              <li><strong>ğŸ’³ Pago:</strong> Diario tras completar tareas exitosas</li>
              <li><strong>ğŸ“± Herramientas:</strong> Solo telÃ©fono inteligente</li>
              <li><strong>ğŸ¯ Habilidades:</strong> AlfabetizaciÃ³n digital bÃ¡sica suficiente</li>
              <li><strong>ğŸ  Estilo de trabajo:</strong> Flexible, remoto</li>
              <li><strong>ğŸŒŠ Ideal para:</strong> Estudiantes, complementar ingresos</li>
            </ul>
            <button class="btn btn-primary open-form-btn" style="margin-top: 16px;">Solicitar Tiempo Parcial</button>
          </div>
        </article>

        <article class="card fade-in delay-1">
          <div class="card-media remote-work-2"></div>
          <div class="card-body">
            <div class="earnings-badge">150â‚¬â€“500â‚¬+ / dÃ­a</div>
            <h3>Trabajo a Tiempo Completo</h3>
            <ul class="list">
              <li><strong>â° Horario flexible:</strong> 3â€“6 horas al dÃ­a</li>
              <li><strong>ğŸ’³ Pago:</strong> Diario tras completar tareas exitosas</li>
              <li><strong>ğŸ“± Herramientas:</strong> TelÃ©fono inteligente (PC opcional)</li>
              <li><strong>ğŸ¯ Habilidades:</strong> Se prefiere buena alfabetizaciÃ³n digital</li>
              <li><strong>ğŸ  Estilo de trabajo:</strong> Flexible, remoto</li>
              <li><strong>ğŸŒŠ Ideal para:</strong> Ingresos principales, profesionales</li>
            </ul>
            <button class="btn btn-primary open-form-btn" style="margin-top: 16px;">Solicitar Tiempo Completo</button>
          </div>
        </article>
      </div>
    </div>
  </section>

  <!-- Flexible Work Bonus -->
  <section class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>ğŸ Gana Bonos Adicionales por Constancia</h2>
        <p class="muted">Mantente activo y desbloquea ingresos adicionales ademÃ¡s de tus pagos regulares por tareas.</p>
      </div>
      
      <div class="cards three-col">
        <div class="card bonus fade-in">
          <div class="bonus-icon" aria-hidden="true">ğŸ</div>
          <h3>5 dÃ­as</h3>
          <p>Desbloquea un pequeÃ±o bono por completar tareas durante 5 dÃ­as activos este mes.</p>
        </div>
        <div class="card bonus fade-in delay-1">
          <div class="bonus-icon" aria-hidden="true">ğŸ†</div>
          <h3>15 dÃ­as</h3>
          <p>MantÃ©n una actividad constante durante 15 dÃ­as para ganar un bono incrementado.</p>
        </div>
        <div class="card bonus fade-in delay-2">
          <div class="bonus-icon" aria-hidden="true">â­</div>
          <h3>30 dÃ­as</h3>
          <p>Permanece activo durante 30 dÃ­as para recibir nuestro mÃ¡ximo bono mensual de lealtad.</p>
        </div>
      </div>
      <p class="muted" style="text-align: center; margin-top: 16px;">Los bonos estÃ¡n sujetos a disponibilidad de tareas y evaluaciones de calidad. <strong>Las ganancias pueden variar segÃºn tu desempeÃ±o personal.</strong></p>
    </div>
  </section>

  <!-- Job Requirements -->
  <section class="section" aria-labelledby="req-title">
    <div class="container">
      <div class="section-header fade-in">
        <h2 id="req-title">ğŸ¯ Todo lo que Necesitas para Empezar</h2>
        <p class="muted">Requisitos simples para comenzar tu viaje de trabajo remoto con nosotros.</p>
      </div>
      
      <div class="requirements">
        <div class="req-item fade-in">
          <div class="req-icon">ğŸ“±</div>
          <div>
            <h4>TelÃ©fono Inteligente</h4>
            <p>Android o iOS, con internet estable.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">ğŸ’¸</div>
          <div>
            <h4>Ganancias por tareas</h4>
            <p>Sigue los pasos de las tareas y envÃ­a las pruebas.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-1">
          <div class="req-icon">ğŸ¯</div>
          <div>
            <h4>Edad 18-65</h4>
            <p>Verificamos la edad para elegibilidad y cumplimiento.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">ğŸ¤</div>
          <div>
            <h4>Todos los gÃ©neros</h4>
            <p>Oportunidades inclusivas con reglas justas.</p>
          </div>
        </div>
        <div class="req-item fade-in delay-2">
          <div class="req-icon">âš¡</div>
          <div>
            <h4>Conocimientos bÃ¡sicos</h4>
            <p>Leer instrucciones y entrada simple de datos.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Work From Home Benefits -->
  <section id="benefits" class="section alt">
    <div class="container">
      <div class="benefits-grid">
        <div class="benefits-media fade-in"></div>
        <div class="benefits-copy fade-in delay-1">
          <h2>ğŸ  Trabajo real desde casa (o desde donde prefieras)</h2>
          <ul class="stats">
            <li><strong>50.000+</strong> solicitantes</li>
            <li><strong>100.000+</strong> tareas ofrecidas</li>
            <li><strong>500+</strong> personal de apoyo</li>
            <li><strong>95%</strong> satisfacciÃ³n</li>
          </ul>
          <p class="muted">Las cifras son totales internos actualizados periÃ³dicamente y se proporcionan para transparencia, no como garantÃ­a. <strong>Las ganancias pueden variar segÃºn tu desempeÃ±o personal.</strong></p>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="section">
    <div class="container">
      <div class="section-header fade-in">
        <h2>ğŸŒŸ Opiniones de Nuestros Trabajadores EspaÃ±oles</h2>
        <p class="muted">Personas reales, experiencias reales con nuestra plataforma.</p>
      </div>
      
      <div class="cards three-col">
        <blockquote class="testimonial fade-in">
          <div class="avatar">C</div>
          <p>"Tareas claras y respuestas rÃ¡pidas. RecibÃ­ mi primer pago el mismo dÃ­a. Â¡El soporte en espaÃ±ol fue muy Ãºtil!"</p>
          <footer>â€” Carla, Las Palmas</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-1">
          <div class="avatar">J</div>
          <p>"Lo hago despuÃ©s de mi trabajo principal. La flexibilidad para obtener ingresos adicionales es excelente."</p>
          <footer>â€” Javier, Tenerife</footer>
        </blockquote>
        <blockquote class="testimonial fade-in delay-2">
          <div class="avatar">M</div>
          <p>"Pasos simples con expectativas justas. Sin tarifas de solicitud ni costos ocultos. Â¡Definitivamente lo recomiendo!"</p>
          <footer>â€” Marta, Lanzarote</footer>
        </blockquote>
      </div>
    </div>
  </section>

  <!-- Limited Opportunity -->
  <section class="section cta">
    <div class="container cta-inner fade-in">
      <div>
        <h2>â° Plazas Limitadas - Solicita Ahora</h2>
        <p class="muted">Se aÃ±aden nuevas tareas diariamente, pero las posiciones se llenan rÃ¡pidamente. EnvÃ­a tu solicitud ahora para asegurar tu lugar.</p>
      </div>
      <button class="btn btn-primary btn-lg pulse open-form-btn">ğŸš€ Solicitar Ahora</button>
    </div>
  </section>

  <!-- FAQ -->
  <section id="faq" class="section alt">
    <div class="container">
      <div class="section-header fade-in">
        <h2>â“ Preguntas Frecuentes</h2>
        <p class="muted">Todo lo que necesitas saber antes de comenzar.</p>
      </div>
      
      <details class="faq fade-in">
        <summary>Â¿Hay algÃºn costo para solicitar?</summary>
        <div>No. Nunca cobramos tarifas de solicitud o registro. Nuestra plataforma es completamente gratuita para unirse y usar.</div>
      </details>
      <details class="faq fade-in">
        <summary>Â¿CÃ³mo funcionan los pagos?</summary>
        <div>Los pagos se procesan despuÃ©s de que las tareas pasan los controles de calidad. El tiempo puede variar segÃºn el mÃ©todo y la regiÃ³n, pero la mayorÃ­a de los trabajadores reciben el pago dentro de las 24 horas posteriores a la finalizaciÃ³n de la tarea. <strong>El monto de las ganancias depende de tu desempeÃ±o personal.</strong></div>
      </details>
      <details class="faq fade-in">
        <summary>Â¿QuÃ© equipo necesito?</summary>
        <div>Un telÃ©fono inteligente y conexiÃ³n a Internet son suficientes para la mayorÃ­a de las tareas. Algunos puestos pueden preferir computadora, pero no es necesario para la mayorÃ­a de tareas.</div>
      </details>
      <details class="faq fade-in">
        <summary>Â¿CÃ³mo se comunicarÃ¡n conmigo?</summary>
        <div>Nos comunicamos principalmente a travÃ©s de WhatsApp. DespuÃ©s de solicitar, recibirÃ¡s instrucciones paso a paso.</div>
      </details>
      
      <div class="disclaimer fade-in">
        <strong>âš ï¸ Nota Importante:</strong> Los montos de ganancia indicados en este sitio son ejemplos y no estÃ¡n garantizados. Tus ganancias reales variarÃ¡n segÃºn tu esfuerzo personal, tiempo dedicado y desempeÃ±o en la finalizaciÃ³n de tareas. Se requiere trabajo constante y adherencia a las instrucciones para obtener resultados exitosos.
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <a class="brand" href="#top">TrabajoCan</a>
        <p class="muted small">Oportunidades transparentes. No hay ingresos garantizados. Sin tarifas de solicitud.</p>
      </div>
      <nav class="footer-links">
        <a id="privacy" href="privacy.html" rel="nofollow">PolÃ­tica de Privacidad</a>
        <a id="terms" href="userterms.html" rel="nofollow">TÃ©rminos de Uso</a>
      </nav>
    </div>
    <div class="container">
      <p class="muted small">Â© 2023 TrabajoCan. Todos los derechos reservados. Los ingresos mostrados son solo ejemplos y no estÃ¡n garantizados. Tus ganancias reales dependerÃ¡n de tus habilidades, tiempo y disponibilidad de tareas. Las ganancias pueden variar segÃºn tu desempeÃ±o personal.</p>
    </div>
  </footer>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // WhatsApp account numbers
      const whatsappAccounts = [
        "6281315775782", 
        "6282171594775",
        "6285719322974",
        "6285852374223", 
        "6287887029591", 
        "62882003912577",
        "6289523938617",
        "628972109762"
      ];
      
      // Canary Islands locations and names for realistic data
      const canaryLocations = ['Santa Cruz de Tenerife', 'Las Palmas', 'La Laguna', 'Telde', 'Arona', 'Arrecife', 'Puerto del Rosario', 'Los Llanos'];
      const names = ['MarÃ­a', 'Juan', 'Carlos', 'Elena', 'David', 'Laura', 'Sergio', 'Ana', 'Pedro', 'Isabel', 'Miguel', 'Sofia'];
      
      // Variables
      const randomAccount = whatsappAccounts[Math.floor(Math.random() * whatsappAccounts.length)];
      let userPhoneNumber = '';
      let formSubmitted = false;
      let conversionTracked = false;
      let currentRegistrationIndex = 0;
      let registrationInterval;
      
      // DOM Elements
      const phoneModal = document.getElementById('phoneModal');
      const successModal = document.getElementById('successModal');
      const phoneInput = document.getElementById('phoneInput');
      const phoneError = document.getElementById('phoneError');
      const startEarningBtn = document.getElementById('startEarningBtn');
      const goToWhatsAppBtn = document.getElementById('goToWhatsAppBtn');
      const directWhatsAppBtn = document.getElementById('directWhatsAppBtn');
      const openFormBtn = document.getElementById('openFormBtn');
      const heroCtaBtn = document.getElementById('heroCtaBtn');
      const stickyCta = document.getElementById('stickyCta');
      const phoneModalCloseBtn = document.getElementById('phoneModalCloseBtn');
      const successModalCloseBtn = document.getElementById('successModalCloseBtn');
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const mobileMenu = document.getElementById('mobileMenu');
      const scrollTrustSection = document.getElementById('scrollTrustSection');
      const scrollTrustClose = document.getElementById('scrollTrustClose');
      const registrationsScrollContainer = document.getElementById('registrationsScrollContainer');
      const progressBar = document.getElementById('progressBar');
      const countdownTimer = document.getElementById('countdownTimer');
      const countdownContainer = document.getElementById('countdownContainer');
      const whatsappSpinner = document.getElementById('whatsappSpinner');
      
      // ä½¿ç”¨Googleå®˜æ–¹æ¨èçš„è½¬åŒ–è·Ÿè¸ªæ–¹å¼
      function trackGoogleConversion() {
        return new Promise((resolve) => {
          if (conversionTracked) {
            resolve(true);
            return;
          }
          
          console.log('Iniciando seguimiento de conversiÃ³n Google Ads...');
          
          try {
            // æ–¹æ³•1: ä½¿ç”¨gtagäº‹ä»¶ (å®˜æ–¹æ¨è)
            gtag('event', 'conversion', {
              'send_to': 'AW-17524155246/zKo5CK6w5q4bEO7GlaRB',
              'value': 8.0,
              'currency': 'USD',
              'transaction_id': 'canarias_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9)
            });
            
            // æ–¹æ³•2: ä½¿ç”¨Google Adsè½¬åŒ–é“¾æ¥ (å¤‡ç”¨æ–¹æ¡ˆ)
            const conversionPixel = new Image();
            conversionPixel.src = `https://www.googleads.g.doubleclick.net/dcm/flcm?gcid=${Date.now()}&gclsrc=aw.ds`;
            
            console.log('Evento de conversiÃ³n enviado');
            conversionTracked = true;
            
            // ä¸ç­‰å¾…ç›´æ¥è§£æï¼Œç¡®ä¿ä¸é˜»å¡ç”¨æˆ·ä½“éªŒ
            resolve(true);
            
          } catch (error) {
            console.warn('Error en seguimiento de conversiÃ³n:', error);
            // å³ä½¿å¤±è´¥ä¹Ÿä¸é˜»å¡ç”¨æˆ·æµç¨‹
            resolve(false);
          }
        });
      }

      // å¸¦é‡è¯•æœºåˆ¶çš„äº‹ä»¶ä¸ŠæŠ¥ (éé˜»å¡)
      function trackConversionWithRetry(maxRetries = 2) {
        return new Promise(async (resolve) => {
          for (let attempt = 1; attempt <= maxRetries; attempt++) {
            try {
              const success = await trackGoogleConversion();
              if (success) {
                console.log(`ConversiÃ³n rastreada exitosamente en el intento ${attempt}`);
                resolve(true);
                return;
              }
            } catch (error) {
              console.warn(`Intento ${attempt} fallido:`, error);
            }
            
            // çŸ­æš‚å»¶è¿Ÿåé‡è¯•
            if (attempt < maxRetries) {
              await new Promise(r => setTimeout(r, 300 * attempt));
            }
          }
          console.log('Todos los intentos de seguimiento completados (Ã©xito o fallo)');
          resolve(false); // å³ä½¿å¤±è´¥ä¹Ÿç»§ç»­
        });
      }
      
      // å®‰å…¨è·³è½¬åˆ°WhatsApp (æ–°æ ‡ç­¾é¡µ)
      async function safeRedirectToWhatsApp(whatsappUrl) {
        // ä¿å­˜æŒ‰é’®åŸå§‹çŠ¶æ€
        const originalButton = goToWhatsAppBtn ? {
          innerHTML: goToWhatsAppBtn.innerHTML,
          disabled: goToWhatsAppBtn.disabled,
          text: goToWhatsAppBtn.textContent
        } : null;
        
        // ç«‹å³æ›´æ–°æŒ‰é’®çŠ¶æ€
        if (goToWhatsAppBtn) {
          goToWhatsAppBtn.disabled = true;
          goToWhatsAppBtn.innerHTML = '<span class="loading-spinner"></span> Abriendo WhatsApp...';
        }
        
        try {
          // å¼€å§‹è½¬åŒ–è·Ÿè¸ª (ä¸ç­‰å¾…)
          const trackingPromise = trackConversionWithRetry().then(success => {
            console.log('Resultado del tracking:', success);
          }).catch(error => {
            console.warn('Error en tracking:', error);
          });
          
          // çŸ­æš‚å»¶è¿Ÿç¡®ä¿UIæ›´æ–° (éé˜»å¡)
          await new Promise(resolve => setTimeout(resolve, 100));
          
          // åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€WhatsApp - å…³é”®æ”¹è¿›ï¼
          const newWindow = window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
          
          if (!newWindow) {
            // å¦‚æœå¼¹çª—è¢«é˜»æ­¢ï¼Œå›é€€åˆ°å½“å‰é¡µè·³è½¬
            console.log('Popup bloqueado, redirigiendo en misma ventana');
            window.location.href = whatsappUrl;
          } else {
            // ç„¦ç‚¹ç§»åˆ°æ–°çª—å£
            newWindow.focus();
          }
          
          // æ¢å¤æŒ‰é’®çŠ¶æ€
          setTimeout(() => {
            if (goToWhatsAppBtn && originalButton) {
              goToWhatsAppBtn.disabled = originalButton.disabled;
              goToWhatsAppBtn.innerHTML = originalButton.innerHTML;
            }
          }, 2000);
          
        } catch (error) {
          console.error('Error crÃ­tico en redirecciÃ³n:', error);
          
          // æ¢å¤æŒ‰é’®çŠ¶æ€
          if (goToWhatsAppBtn && originalButton) {
            goToWhatsAppBtn.disabled = originalButton.disabled;
            goToWhatsAppBtn.innerHTML = originalButton.innerHTML;
          }
          
          // æœ€ç»ˆå›é€€æ–¹æ¡ˆ
          window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }
      }

      // æ›´æ–°è‡ªåŠ¨è·³è½¬é€»è¾‘
      function setupAutoRedirect(whatsappUrl) {
        let countdown = 3;
        const countdownInterval = setInterval(() => {
          if (goToWhatsAppBtn) {
            goToWhatsAppBtn.innerHTML = `ğŸ’¬ Abriendo WhatsApp en ${countdown}...`;
          }
          
          countdown--;
          
          if (countdown < 0) {
            clearInterval(countdownInterval);
            safeRedirectToWhatsApp(whatsappUrl);
          }
        }, 1000);
      }
      
      // é˜²æ­¢é¡µé¢å¸è½½ä¸­æ–­Googleäº‹ä»¶ä¸ŠæŠ¥
      function setupBeforeUnloadProtection() {
        let conversionSent = false;
        
        window.addEventListener('beforeunload', function() {
          if (!conversionSent) {
            // åœ¨é¡µé¢å¸è½½å‰ç´§æ€¥å‘é€è½¬åŒ–äº‹ä»¶
            try {
              gtag('event', 'conversion', {
                'send_to': 'AW-17524155246/zKo5CK6w5q4bEO7GlaRB',
                'value': 8.0,
                'currency': 'USD',
                'transaction_id': 'unload_' + Date.now()
              });
              
              // å‘é€åƒç´ ä½œä¸ºæœ€ç»ˆä¿éšœ
              const pixel = new Image();
              pixel.src = `https://www.googleads.g.doubleclick.net/dcm/flcm?gcid=unload_${Date.now()}`;
              
              conversionSent = true;
            } catch (error) {
              console.warn('Error en beforeunload tracking:', error);
            }
          }
        });
      }
      
      // åˆå§‹åŒ–åŠŸèƒ½
      function initializeFeatures() {
        // åŸæœ‰åŠŸèƒ½
        const activeUsers = document.getElementById('activeUsers');
        let count = 15 + Math.floor(Math.random() * 10);
        if (activeUsers) {
          activeUsers.textContent = count;
        }
        
        setInterval(() => {
          count = 15 + Math.floor(Math.random() * 10);
          if (activeUsers) {
            activeUsers.textContent = count;
          }
        }, 30000);
        
        // æ˜¾ç¤ºç²˜æ€§CTA
        setTimeout(() => {
          if (stickyCta) {
            stickyCta.classList.add('active');
          }
        }, 3000);
        
        // åˆå§‹åŒ–å®æ—¶æ³¨å†Œ - å•æ¡æ»šåŠ¨å½¢å¼
        initializeRealTimeRegistrations();
        
        // è®¾ç½®æ»šåŠ¨ä¿¡ä»»é€šçŸ¥
        setupScrollTrustNotification();
        
        // æ–°åŠŸèƒ½ï¼šåˆå§‹åŒ–å€’è®¡æ—¶
        initializeCountdown();
        
        // æ–°åŠŸèƒ½ï¼šè®¾ç½®æ™ºèƒ½å¼¹çª—
        setupSmartPopups();
        
        // æ–°åŠŸèƒ½ï¼šä¸ªæ€§åŒ–å†…å®¹
        updatePersonalizedContent();
        
        // æ–°åŠŸèƒ½ï¼šA/Bæµ‹è¯•
        setupABTesting();

        // è®¾ç½®é¡µé¢å¸è½½ä¿æŠ¤
        setupBeforeUnloadProtection();
      }
      
      // åˆå§‹åŒ–å®æ—¶æ³¨å†Œä¿¡æ¯ - å•æ¡æ»šåŠ¨å½¢å¼
      function initializeRealTimeRegistrations() {
        // ç”Ÿæˆåˆå§‹æ³¨å†Œæ•°æ®
        const registrations = generateRegistrationData(5);
        
        // æ¸…ç©ºå®¹å™¨
        if (registrationsScrollContainer) {
          registrationsScrollContainer.innerHTML = '';
          
          // æ·»åŠ ç¬¬ä¸€æ¡æ³¨å†Œä¿¡æ¯
          if (registrations.length > 0) {
            const firstItem = document.createElement('div');
            firstItem.className = 'registration-item active';
            firstItem.innerHTML = registrations[0];
            registrationsScrollContainer.appendChild(firstItem);
          }
        }
        
        // è®¾ç½®å®šæ—¶å™¨ï¼Œæ¯4ç§’åˆ‡æ¢ä¸€æ¡ä¿¡æ¯
        currentRegistrationIndex = 1;
        registrationInterval = setInterval(() => {
          rotateRegistration();
        }, 4000);
      }
      
      // ç”Ÿæˆæ³¨å†Œæ•°æ®
      function generateRegistrationData(count) {
        const registrations = [];
        
        for (let i = 0; i < count; i++) {
          const name = names[Math.floor(Math.random() * names.length)];
          const location = canaryLocations[Math.floor(Math.random() * canaryLocations.length)];
          const minutes = Math.floor(Math.random() * 15);
          
          registrations.push(`
            <span class="status-dot"></span>
            <strong>${name}</strong> de <strong>${location}</strong>
            <span class="time">hace ${minutes} min</span>
          `);
        }
        
        return registrations;
      }
      
      // æ—‹è½¬æ³¨å†Œä¿¡æ¯
      function rotateRegistration() {
        if (!registrationsScrollContainer) return;
        
        const registrations = generateRegistrationData(5);
        const currentItem = registrationsScrollContainer.querySelector('.registration-item');
        
        if (currentItem) {
          // æ·¡å‡ºå½“å‰é¡¹
          currentItem.classList.remove('active');
          
          setTimeout(() => {
            // ç§»é™¤å½“å‰é¡¹
            registrationsScrollContainer.removeChild(currentItem);
            
            // æ·»åŠ æ–°é¡¹
            const newItem = document.createElement('div');
            newItem.className = 'registration-item';
            newItem.innerHTML = registrations[currentRegistrationIndex % registrations.length];
            registrationsScrollContainer.appendChild(newItem);
            
            // è§¦å‘é‡æ’ä»¥åº”ç”¨åŠ¨ç”»
            void newItem.offsetWidth;
            
            // æ·¡å…¥æ–°é¡¹
            newItem.classList.add('active');
            
            // æ›´æ–°ç´¢å¼•
            currentRegistrationIndex = (currentRegistrationIndex + 1) % registrations.length;
          }, 500);
        }
      }
      
      // è®¾ç½®æ»šåŠ¨ä¿¡ä»»é€šçŸ¥
      function setupScrollTrustNotification() {
        let trustShown = false;
        
        window.addEventListener('scroll', function() {
          const scrollPercent = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
          
          if (scrollPercent > 40 && !trustShown && scrollTrustSection) {
            trustShown = true;
            showScrollTrustNotification();
          }
        });
        
        if (scrollTrustClose) {
          scrollTrustClose.addEventListener('click', function() {
            scrollTrustSection.classList.remove('active');
          });
        }
      }
      
      function showScrollTrustNotification() {
        setTimeout(() => {
          if (scrollTrustSection) {
            scrollTrustSection.classList.add('active');
            
            // 8ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
              scrollTrustSection.classList.remove('active');
            }, 8000);
          }
        }, 1000);
      }
      
      // åˆå§‹åŒ–å€’è®¡æ—¶
      function initializeCountdown() {
        let timeLeft = 30 * 60; // 30åˆ†é’Ÿ
        
        const countdown = setInterval(() => {
          timeLeft--;
          const minutes = Math.floor(timeLeft / 60);
          const seconds = timeLeft % 60;
          if (countdownTimer) {
            countdownTimer.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
          }
          
          // æœ€å5åˆ†é’Ÿè­¦å‘Š
          if (timeLeft === 5 * 60 && countdownContainer) {
            countdownContainer.style.background = 'linear-gradient(135deg, #ff4757, #ff6b6b)';
            countdownContainer.style.animation = 'pulse 1s infinite';
          }
          
          if (timeLeft <= 0) {
            clearInterval(countdown);
            if (countdownTimer) {
              countdownTimer.textContent = "Â¡OFERTA TERMINADA!";
            }
            if (countdownContainer) {
              countdownContainer.style.background = '#666';
            }
            // ç¦ç”¨æ‰€æœ‰CTAæŒ‰é’®
            document.querySelectorAll('.btn-primary, .open-form-btn').forEach(btn => {
              btn.disabled = true;
              btn.textContent = 'Oferta Finalizada';
              btn.style.opacity = '0.6';
            });
          }
        }, 1000);
      }
      
      // æ™ºèƒ½å¼¹çª—ç³»ç»Ÿ
      function setupSmartPopups() {
        let scrollDepth = 0;
        let timeOnPage = 0;
        let exitIntentDetected = false;
        
        // è·Ÿè¸ªæ»šåŠ¨æ·±åº¦
        window.addEventListener('scroll', function() {
          scrollDepth = (window.scrollY / (document.documentElement.scrollHeight - window.innerHeight)) * 100;
          
          // 60%æ»šåŠ¨æ·±åº¦è§¦å‘
          if (scrollDepth > 60 && !formSubmitted) {
            showScrollCTA();
          }
        });
        
        // è·Ÿè¸ªé¡µé¢åœç•™æ—¶é—´
        setInterval(() => {
          timeOnPage++;
          
          // 25ç§’åæ˜¾ç¤ºå¼¹çª—
          if (timeOnPage === 25 && scrollDepth > 20 && !formSubmitted) {
            showTimeBasedCTA();
          }
        }, 1000);
        
        // é€€å‡ºæ„å›¾æ£€æµ‹
        document.addEventListener('mouseout', function(e) {
          if (e.clientY < 50 && !exitIntentDetected && !formSubmitted && scrollDepth > 10) {
            exitIntentDetected = true;
            showExitIntentModal();
          }
        });
      }
      
      // æ˜¾ç¤ºé€€å‡ºæ„å›¾å¼¹çª—
      function showExitIntentModal() {
        if (document.getElementById('exitModal')) return;
        
        const exitModalHtml = `
          <div class="modal active exit-modal" id="exitModal">
            <div class="modal-content">
              <button class="modal-close" onclick="closeExitModal()" aria-label="Cerrar">&times;</button>
              <div class="modal-header">
                <div class="modal-icon">ğŸš¨</div>
                <h3 class="modal-title">Â¡Espera! No te vayas aÃºn</h3>
                <p class="modal-subtitle">Ãšltima oportunidad para asegurar tu plaza con ingresos de 150-300â‚¬ diarios</p>
              </div>
              <button class="btn btn-primary btn-block" onclick="openPhoneModal(); closeExitModal();">
                ğŸš€ Quiero Mi Plaza
              </button>
              <button class="btn" onclick="closeExitModal()" style="margin-top: 8px; background: transparent; border: 1px solid var(--muted);">
                Continuar navegando
              </button>
            </div>
          </div>
        `;
        
        document.body.insertAdjacentHTML('beforeend', exitModalHtml);
      }
      
      // å…³é—­é€€å‡ºå¼¹çª—
      function closeExitModal() {
        const exitModal = document.getElementById('exitModal');
        if (exitModal) {
          exitModal.remove();
        }
      }
      
      // ä¸ªæ€§åŒ–å†…å®¹
      function updatePersonalizedContent() {
        const hour = new Date().getHours();
        let greeting = '';
        
        if (hour < 12) greeting = 'Â¡Buenos dÃ­as!';
        else if (hour < 18) greeting = 'Â¡Buenas tardes!';
        else greeting = 'Â¡Buenas noches!';
        
        // æ›´æ–°æ ‡é¢˜
        const heroTitle = document.querySelector('.hero-copy h1');
        if (heroTitle) {
          heroTitle.innerHTML = `${greeting} Canarios, Gana 150-300â‚¬ Diarios SIN Salir de Tu Casa`;
        }
      }
      
      // A/Bæµ‹è¯•
      function setupABTesting() {
        const testVariations = {
          ctaText: [
            "ğŸš€ Quiero Mi Plaza - Comenzar en 24h",
            "ğŸ’° Comenzar a Ganar Dinero Hoy", 
            "ğŸ¯ Obtener Mi Trabajo Remoto",
            "ğŸŒ´ Trabajar Desde Canarias Ahora"
          ]
        };
        
        const ctaVariant = Math.floor(Math.random() * testVariations.ctaText.length);
        
        // æ›´æ–°ä¸»è¦CTAæŒ‰é’®
        const mainCtas = document.querySelectorAll('#heroCtaBtn, .sticky-content .btn');
        mainCtas.forEach(btn => {
          if (btn.id !== 'goToWhatsAppBtn') {
            btn.textContent = testVariations.ctaText[ctaVariant];
          }
        });
      }
      
      // æ›´æ–°è¿›åº¦æ¡
      function updateProgress(step) {
        if (progressBar) {
          if (step === 2) {
            progressBar.style.width = '100%';
            const progressHeader = document.querySelector('.progress-header span:last-child');
            if (progressHeader) {
              progressHeader.textContent = 'Paso 2 de 2';
            }
          }
        }
      }
      
      // æ‰“å¼€ç”µè¯æ¨¡æ€æ¡†
      function openPhoneModal() {
        if (phoneModal) {
          phoneModal.classList.add('active');
        }
        if (phoneInput) {
          phoneInput.focus();
        }
        // é‡ç½®è¿›åº¦æ¡
        if (progressBar) {
          progressBar.style.width = '50%';
          const progressHeader = document.querySelector('.progress-header span:last-child');
          if (progressHeader) {
            progressHeader.textContent = 'Paso 1 de 2';
          }
        }
      }
      
      // å…³é—­ç”µè¯æ¨¡æ€æ¡†
      function closePhoneModal() {
        if (phoneModal) {
          phoneModal.classList.remove('active');
        }
        clearPhoneError();
      }
      
      // æ‰“å¼€æˆåŠŸæ¨¡æ€æ¡†
      function openSuccessModal() {
        if (successModal) {
          successModal.classList.add('active');
        }
      }
      
      // å…³é—­æˆåŠŸæ¨¡æ€æ¡†
      function closeSuccessModal() {
        if (successModal) {
          successModal.classList.remove('active');
        }
      }
      
      // æ¸…é™¤ç”µè¯é”™è¯¯
      function clearPhoneError() {
        if (phoneInput) {
          phoneInput.classList.remove('error');
        }
        if (phoneError) {
          phoneError.classList.remove('show');
        }
      }
      
      // éªŒè¯ç”µè¯å·ç 
      function validatePhoneNumber(phone) {
        const cleaned = phone.replace(/\D/g, '');
        return cleaned.length >= 8;
      }
      
      // ç”ŸæˆWhatsAppé“¾æ¥
      function generateWhatsAppLink(phone) {
        const message = encodeURIComponent(`Hola, me interesan los trabajos remotos en Canarias. Mi nÃºmero es: ${phone}`);
        return `https://wa.me/${randomAccount}?text=${message}`;
      }
      
      // å¤„ç†ç”µè¯è¡¨å•æäº¤
      function handlePhoneSubmit() {
        const phone = phoneInput ? phoneInput.value.trim() : '';
        
        if (!validatePhoneNumber(phone)) {
          if (phoneInput) {
            phoneInput.classList.add('error');
          }
          if (phoneError) {
            phoneError.classList.add('show');
          }
          if (phoneInput) {
            phoneInput.focus();
          }
          return;
        }
        
        userPhoneNumber = phone;
        formSubmitted = true;
        
        // æ›´æ–°è¿›åº¦æ¡
        updateProgress(2);
        
        // ç”ŸæˆWhatsAppé“¾æ¥
        const whatsappUrl = generateWhatsAppLink(phone);
        
        // å…³é—­ç”µè¯æ¨¡æ€æ¡†å¹¶æ‰“å¼€æˆåŠŸæ¨¡æ€æ¡†
        closePhoneModal();
        openSuccessModal();
        
        // æ›´æ–°WhatsAppæŒ‰é’®äº‹ä»¶ - ä½¿ç”¨æ–°æ ‡ç­¾é¡µ
        if (goToWhatsAppBtn) {
          goToWhatsAppBtn.onclick = function() {
            safeRedirectToWhatsApp(whatsappUrl);
          };
        }
        
        // è®¾ç½®è‡ªåŠ¨è·³è½¬ (æ–°æ ‡ç­¾é¡µ)
        setupAutoRedirect(whatsappUrl);
      }
      
      // ç›´æ¥WhatsAppè·³è½¬ï¼ˆæ— è¡¨å•ï¼‰- åŒæ ·ä½¿ç”¨æ–°æ ‡ç­¾é¡µ
      function handleDirectWhatsApp() {
        const whatsappUrl = `https://wa.me/${randomAccount}?text=${
          encodeURIComponent("Hola, estoy interesado en los trabajos remotos en Canarias")
        }`;
        
        // å…ˆè§¦å‘è½¬åŒ–è·Ÿè¸ª
        trackConversionWithRetry().then(success => {
          console.log('Direct WhatsApp tracking result:', success);
        });
        
        // ç«‹å³åœ¨æ–°æ ‡ç­¾é¡µæ‰“å¼€
        window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
      }
      
      // äº‹ä»¶ç›‘å¬å™¨
      if (openFormBtn) {
        openFormBtn.addEventListener('click', openPhoneModal);
      }
      if (heroCtaBtn) {
        heroCtaBtn.addEventListener('click', openPhoneModal);
      }
      
      // ç›´æ¥WhatsAppæŒ‰é’®
      if (directWhatsAppBtn) {
        directWhatsAppBtn.addEventListener('click', handleDirectWhatsApp);
      }
      
      // ç”µè¯è¡¨å•æäº¤
      if (startEarningBtn) {
        startEarningBtn.addEventListener('click', handlePhoneSubmit);
      }
      
      // ç§»åŠ¨èœå•åˆ‡æ¢
      if (mobileMenuBtn) {
        mobileMenuBtn.addEventListener('click', function() {
          if (mobileMenu) {
            mobileMenu.classList.toggle('active');
          }
        });
      }
      
      // å…³é—­ç§»åŠ¨èœå•å½“ç‚¹å‡»å¤–éƒ¨
      document.addEventListener('click', function(e) {
        if (mobileMenu && mobileMenuBtn && !mobileMenu.contains(e.target) && e.target !== mobileMenuBtn) {
          mobileMenu.classList.remove('active');
        }
      });
      
      // ç”µè¯è¾“å…¥äº‹ä»¶
      if (phoneInput) {
        phoneInput.addEventListener('input', function() {
          // åªå…è®¸æ•°å­—
          this.value = this.value.replace(/\D/g, '');
          clearPhoneError();
        });
        
        phoneInput.addEventListener('keypress', function(e) {
          if (e.key === 'Enter') {
            handlePhoneSubmit();
          }
        });
      }
      
      // æ¨¡æ€æ¡†å…³é—­æŒ‰é’®
      if (phoneModalCloseBtn) {
        phoneModalCloseBtn.addEventListener('click', closePhoneModal);
      }
      if (successModalCloseBtn) {
        successModalCloseBtn.addEventListener('click', closeSuccessModal);
      }
      
      // é€šè¿‡ç‚¹å‡»å¤–éƒ¨å…³é—­æ¨¡æ€æ¡†
      if (phoneModal) {
        phoneModal.addEventListener('click', function(e) {
          if (e.target === phoneModal) {
            closePhoneModal();
          }
        });
      }
      
      if (successModal) {
        successModal.addEventListener('click', function(e) {
          if (e.target === successModal) {
            closeSuccessModal();
          }
        });
      }
      
      // ä¸ºå¯¼èˆªæ·»åŠ å¹³æ»‘æ»šåŠ¨
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        if (anchor.getAttribute('href') !== '#' && 
            !anchor.classList.contains('open-form-btn')) {
          anchor.addEventListener('click', function(e) {
            e.preventDefault();
            
            const targetId = this.getAttribute('href');
            if (targetId === '#') return;
            
            const targetElement = document.querySelector(targetId);
            if (targetElement) {
              targetElement.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          });
        }
      });
      
      // æ›´æ–°é¡µé¢ä¸Šçš„æ‰€æœ‰CTAæŒ‰é’®ä»¥æ‰“å¼€ç”µè¯æ¨¡æ€æ¡†
      document.querySelectorAll('.open-form-btn, .btn-primary').forEach(btn => {
        if (!btn.id && !btn.onclick) { // é¿å…åœ¨å…·æœ‰ç‰¹å®šIDçš„æŒ‰é’®ä¸Šé‡å¤äº‹ä»¶
          btn.addEventListener('click', function(e) {
            e.preventDefault();
            openPhoneModal();
          });
        }
      });
      
      // åˆå§‹åŒ–æ‰€æœ‰åŠŸèƒ½
      initializeFeatures();
      
      // å°†å…¨å±€å‡½æ•°æš´éœ²ç»™DOM
      window.openPhoneModal = openPhoneModal;
      window.closeExitModal = closeExitModal;
    });
  </script>
</body>
</html>
